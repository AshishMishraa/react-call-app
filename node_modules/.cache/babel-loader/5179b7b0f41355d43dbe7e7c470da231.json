{"ast":null,"code":"import _classCallCheck from \"/Users/poojamishra/Documents/control-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/poojamishra/Documents/control-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/poojamishra/Documents/control-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/poojamishra/Documents/control-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/poojamishra/Documents/control-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/poojamishra/Documents/control-panel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/poojamishra/Documents/control-panel/src/components/newQuiz.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport Header from './Common/Header';\nimport Footer from './Common/Footer';\nimport Sidebar from './Common/Sidebar';\nimport baseUrl from '../CommonFunctions';\nimport logo from '.././assets/logo.png';\n\nvar newQuiz =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(newQuiz, _Component);\n\n  function newQuiz() {\n    var _this;\n\n    _classCallCheck(this, newQuiz);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(newQuiz).call(this));\n\n    _this.handleChangeClassId = function (event) {\n      _this.setState({\n        class_id: event.target.value\n      });\n\n      axios.get(baseUrl('segments?local_association_id=' + _this.state.userData.local_association_id + '&class_id=' + event.target.value, 'api')).then(function (res) {\n        if (res.data.errorCode == '200') {\n          var segments = res.data.data.map(function (obj) {\n            return obj;\n          });\n\n          _this.setState({\n            segments: segments\n          });\n        }\n      });\n    };\n\n    _this.handleChangeSegment_id = function (event) {\n      _this.setState({\n        segment_id: event.target.value\n      });\n    };\n\n    _this.handleChangeTitle = function (event) {\n      _this.setState({\n        title: event.target.value\n      });\n    };\n\n    _this.handleChangeDescription = function (event) {\n      _this.setState({\n        description: event.target.value\n      });\n    };\n\n    _this.handleBack = function (event) {\n      _this.props.history.push('/my-quizs', {\n        some: 'state'\n      });\n    };\n\n    _this.handleChangeThumbImg = function (event) {\n      var files = Array.from(event.target.files);\n      var formData = new FormData();\n      files.forEach(function (file, i) {\n        formData.append('thumb_img', file);\n      });\n\n      var self = _assertThisInitialized(_assertThisInitialized(_this));\n\n      axios({\n        method: 'post',\n        url: baseUrl('upload-thumb-img', 'api'),\n        data: formData,\n        config: {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n      }).then(function (response) {\n        self.setState({\n          thumb_img: response.data.thumb_img\n        });\n        self.setState({\n          thumb_img_url: this.state.thumbImageBase + response.data.thumb_img\n        });\n        console.log(self.state.thumb_img);\n      }).catch(function (response) {\n        //handle error\n        console.log(response);\n      });\n    };\n\n    _this.handleChangeFile = function (event) {\n      var files = Array.from(event.target.files);\n      var formData = new FormData();\n      files.forEach(function (file, i) {\n        formData.append('file', file);\n      });\n\n      var self = _assertThisInitialized(_assertThisInitialized(_this));\n\n      axios({\n        method: 'post',\n        url: baseUrl('upload-quiz-file', 'api'),\n        data: formData,\n        config: {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n      }).then(function (response) {\n        self.setState({\n          file: response.data.file\n        });\n        console.log(self.state.file);\n      }).catch(function (response) {\n        //handle error\n        console.log(response);\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      var self = _assertThisInitialized(_assertThisInitialized(_this));\n\n      var formData = new FormData(document.querySelector('form'));\n      formData.append('id', _this.state.id);\n      formData.append('thumb_img', _this.state.thumb_img);\n      formData.append('file', _this.state.file);\n\n      if (_this.validate()) {\n        axios({\n          method: 'post',\n          url: baseUrl('update-quiz', 'api'),\n          data: formData,\n          config: {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            }\n          }\n        }).then(function (response) {\n          //handle success\n          self.props.history.push('/my-quizs', {\n            some: 'state'\n          });\n          console.log(response);\n        }).catch(function (response) {\n          //handle error\n          console.log(response);\n        });\n      }\n\n      console.log(_this.state);\n    };\n\n    _this.state = {\n      userData: JSON.parse(localStorage.getItem(\"userData\")),\n      data: [],\n      id: '',\n      thumbImageBase: 'https://s3.us-east-2.amazonaws.com/holdingcallassets/thumb_image/',\n      quizBase: 'https://s3.us-east-2.amazonaws.com/holdingcallassets/quiz/',\n      segments: [],\n      classes: [],\n      description: '',\n      thumb_img: '',\n      class_id: '',\n      segment_id: '',\n      file: '',\n      title: '',\n      descriptionError: '',\n      titleError: ''\n    };\n    return _this;\n  }\n\n  _createClass(newQuiz, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log(this.state);\n      var url_string = window.location.href;\n      var url = new URL(url_string);\n      var quiz_id = atob(url.searchParams.get(\"quiz\"));\n      console.log(url);\n      axios.get(baseUrl('classes?local_association_id=' + this.state.userData.local_association_id, 'api')).then(function (res) {\n        if (res.data.errorCode == '200') {\n          var classes = res.data.data.map(function (obj) {\n            return obj;\n          });\n\n          _this2.setState({\n            classes: classes\n          });\n        }\n      });\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      var returnVal = true;\n      this.setState({\n        thumb_imgError: '',\n        titleError: '',\n        class_id_error: '',\n        segment_id_error: '',\n        fileError: '',\n        descriptionError: ''\n      });\n\n      if (this.state.thumb_img == '') {\n        this.setState({\n          thumb_imgError: 'Please select a thumb image'\n        });\n        returnVal = false;\n      }\n\n      if (this.state.title == '') {\n        this.setState({\n          titleError: 'Please enter  title'\n        });\n        returnVal = false;\n      }\n\n      if (this.state.class_id == '') {\n        this.setState({\n          class_id_error: 'Please select a class'\n        });\n        returnVal = false;\n      }\n\n      if (this.state.segment_id == '') {\n        this.setState({\n          segment_id_error: 'Please select a class'\n        });\n        returnVal = false;\n      }\n\n      if (this.state.file == '') {\n        this.setState({\n          fileError: 'Please select a file'\n        });\n        returnVal = false;\n      }\n\n      if (this.state.description == '') {\n        this.setState({\n          descriptionError: 'Please add some description'\n        });\n        returnVal = false;\n      }\n\n      return returnVal;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"page-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(Sidebar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"page-content-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"portlet box green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"portlet-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"caption\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-gift\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }), \"New Quiz \")), React.createElement(\"div\", {\n        className: \"portlet-body form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"form-horizontal\",\n        enctype: \"multipart/form-data\",\n        method: \"post\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-md-3 control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \"Thumb image\"), React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.thumb_img_url,\n        id: \"blah\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"file\",\n        accept: \".png,.jpg,.jpeg\",\n        className: \"form-control \",\n        onChange: this.handleChangeThumbImg,\n        id: \"imgInp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }), \" \"), React.createElement(\"span\", {\n        className: \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, this.state.thumb_imgError))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-md-3 control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        className: \"form-control\",\n        placeholder: \"Enter title\",\n        onChange: this.handleChangeTitle,\n        value: this.state.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, this.state.titleError))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-md-3 control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, \"Class\"), React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        name: \"class_id\",\n        value: this.state.class_id,\n        onChange: this.handleChangeClassId,\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, \"Select Class\"), this.state.classes.map(function (post) {\n        return React.createElement(\"option\", {\n          value: post.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273\n          },\n          __self: this\n        }, post.class_name, \" \");\n      }))), React.createElement(\"span\", {\n        className: \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, this.state.class_id_error))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-md-3 control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, \"Segment\"), React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        name: \"class_id\",\n        value: this.state.segment_id,\n        onChange: this.handleChangeSegment_id,\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, \"Select Segment\"), this.state.segments.map(function (post) {\n        return React.createElement(\"option\", {\n          value: post.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288\n          },\n          __self: this\n        }, post.segment_name, \" \");\n      }))), React.createElement(\"span\", {\n        className: \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, this.state.segment_id_error))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-md-3 control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        className: \"form-control\",\n        name: \"description\",\n        value: this.state.description,\n        onChange: this.handleChangeDescription,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, this.state.descriptionError))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-md-3 control-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, \"Quiz XML\"), React.createElement(\"div\", {\n        className: \"col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        accept: \".xml\",\n        className: \"form-control\",\n        onChange: this.handleChangeFile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, this.state.fileError)))), React.createElement(\"div\", {\n        className: \"form-actions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-offset-3 col-md-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, \"Submit\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn grey-salsa btn-outline\",\n        onClick: this.handleBack,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, \"Back\")))))))))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return newQuiz;\n}(Component);\n\nexport default newQuiz;","map":{"version":3,"sources":["/Users/poojamishra/Documents/control-panel/src/components/newQuiz.js"],"names":["React","Component","ReactDOM","axios","Redirect","Header","Footer","Sidebar","baseUrl","logo","newQuiz","handleChangeClassId","event","setState","class_id","target","value","get","state","userData","local_association_id","then","res","data","errorCode","segments","map","obj","handleChangeSegment_id","segment_id","handleChangeTitle","title","handleChangeDescription","description","handleBack","props","history","push","some","handleChangeThumbImg","files","Array","from","formData","FormData","forEach","file","i","append","self","method","url","config","headers","response","thumb_img","thumb_img_url","thumbImageBase","console","log","catch","handleChangeFile","handleSubmit","preventDefault","document","querySelector","id","validate","JSON","parse","localStorage","getItem","quizBase","classes","descriptionError","titleError","url_string","window","location","href","URL","quiz_id","atob","searchParams","returnVal","thumb_imgError","class_id_error","segment_id_error","fileError","post","class_name","segment_name"],"mappings":";;;;;;;AACA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAEA,OAAOC,MAAP,MAAoB,iBAApB;AACA,OAAOC,MAAP,MAAoB,iBAApB;AACA,OAAOC,OAAP,MAAqB,kBAArB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AAGA,OAAOC,IAAP,MAAiB,sBAAjB;;IAKMC,O;;;;;AACD,qBAAa;AAAA;;AAAA;;AACV;;AADU,UAwCdC,mBAxCc,GAwCQ,UAAAC,KAAK,EAAG;AACzB,YAAKC,QAAL,CAAc;AAACC,QAAAA,QAAQ,EAAEF,KAAK,CAACG,MAAN,CAAaC;AAAxB,OAAd;;AACDb,MAAAA,KAAK,CAACc,GAAN,CAAUT,OAAO,CAAC,mCAAiC,MAAKU,KAAL,CAAWC,QAAX,CAAoBC,oBAArD,GAA0E,YAA1E,GAAuFR,KAAK,CAACG,MAAN,CAAaC,KAArG,EAA2G,KAA3G,CAAjB,EACCK,IADD,CACM,UAAAC,GAAG,EAAI;AACb,YAAGA,GAAG,CAACC,IAAJ,CAASC,SAAT,IAAoB,KAAvB,EAA6B;AACzB,cAAMC,QAAQ,GAAGH,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcG,GAAd,CAAkB,UAAAC,GAAG;AAAA,mBAAIA,GAAJ;AAAA,WAArB,CAAjB;;AACA,gBAAKd,QAAL,CAAc;AAAEY,YAAAA,QAAQ,EAARA;AAAF,WAAd;AAA8B;AACjC,OALD;AAOH,KAjDa;;AAAA,UAkDdG,sBAlDc,GAkDW,UAAAhB,KAAK,EAAG;AAC7B,YAAKC,QAAL,CAAc;AAACgB,QAAAA,UAAU,EAAEjB,KAAK,CAACG,MAAN,CAAaC;AAA1B,OAAd;AAKH,KAxDa;;AAAA,UAyDdc,iBAzDc,GAyDM,UAAAlB,KAAK,EAAG;AACxB,YAAKC,QAAL,CAAc;AAACkB,QAAAA,KAAK,EAAEnB,KAAK,CAACG,MAAN,CAAaC;AAArB,OAAd;AACH,KA3Da;;AAAA,UA6DdgB,uBA7Dc,GA6DY,UAAApB,KAAK,EAAG;AAC9B,YAAKC,QAAL,CAAc;AAACoB,QAAAA,WAAW,EAAErB,KAAK,CAACG,MAAN,CAAaC;AAA3B,OAAd;AACH,KA/Da;;AAAA,UAiEfkB,UAjEe,GAiEF,UAAAtB,KAAK,EAAG;AACF,YAAKuB,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB,EAAqC;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAArC;AAEjB,KApEa;;AAAA,UAsEdC,oBAtEc,GAsES,UAAA3B,KAAK,EAAG;AAC3B,UAAM4B,KAAK,GAAGC,KAAK,CAACC,IAAN,CAAW9B,KAAK,CAACG,MAAN,CAAayB,KAAxB,CAAd;AACI,UAAMG,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAJ,MAAAA,KAAK,CAACK,OAAN,CAAc,UAACC,IAAD,EAAOC,CAAP,EAAa;AACzBJ,QAAAA,QAAQ,CAACK,MAAT,CAAgB,WAAhB,EAA6BF,IAA7B;AACD,OAFD;;AAGA,UAAIG,IAAI,wDAAR;;AACD9C,MAAAA,KAAK,CAAC;AACH+C,QAAAA,MAAM,EAAE,MADL;AAEHC,QAAAA,GAAG,EAAE3C,OAAO,CAAC,kBAAD,EAAoB,KAApB,CAFT;AAGHe,QAAAA,IAAI,EAAEoB,QAHH;AAIHS,QAAAA,MAAM,EAAE;AAAEC,UAAAA,OAAO,EAAE;AAAC,4BAAgB;AAAjB;AAAX;AAJL,OAAD,CAAL,CAMIhC,IANJ,CAMS,UAAUiC,QAAV,EAAoB;AACrBL,QAAAA,IAAI,CAACpC,QAAL,CAAc;AAAC0C,UAAAA,SAAS,EAAED,QAAQ,CAAC/B,IAAT,CAAcgC;AAA1B,SAAd;AACAN,QAAAA,IAAI,CAACpC,QAAL,CAAc;AAAC2C,UAAAA,aAAa,EAAE,KAAKtC,KAAL,CAAWuC,cAAX,GAA0BH,QAAQ,CAAC/B,IAAT,CAAcgC;AAAxD,SAAd;AAIAG,QAAAA,OAAO,CAACC,GAAR,CAAYV,IAAI,CAAC/B,KAAL,CAAWqC,SAAvB;AACJ,OAbJ,EAcIK,KAdJ,CAcU,UAAUN,QAAV,EAAoB;AACvB;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACH,OAjBJ;AAkBN,KA/Fa;;AAAA,UAqGdO,gBArGc,GAqGK,UAAAjD,KAAK,EAAG;AACvB,UAAM4B,KAAK,GAAGC,KAAK,CAACC,IAAN,CAAW9B,KAAK,CAACG,MAAN,CAAayB,KAAxB,CAAd;AACI,UAAMG,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAJ,MAAAA,KAAK,CAACK,OAAN,CAAc,UAACC,IAAD,EAAOC,CAAP,EAAa;AACzBJ,QAAAA,QAAQ,CAACK,MAAT,CAAgB,MAAhB,EAAwBF,IAAxB;AACD,OAFD;;AAGA,UAAIG,IAAI,wDAAR;;AACD9C,MAAAA,KAAK,CAAC;AACH+C,QAAAA,MAAM,EAAE,MADL;AAEHC,QAAAA,GAAG,EAAE3C,OAAO,CAAC,kBAAD,EAAoB,KAApB,CAFT;AAGHe,QAAAA,IAAI,EAAEoB,QAHH;AAIHS,QAAAA,MAAM,EAAE;AAAEC,UAAAA,OAAO,EAAE;AAAC,4BAAgB;AAAjB;AAAX;AAJL,OAAD,CAAL,CAMIhC,IANJ,CAMS,UAAUiC,QAAV,EAAoB;AACrBL,QAAAA,IAAI,CAACpC,QAAL,CAAc;AAACiC,UAAAA,IAAI,EAAEQ,QAAQ,CAAC/B,IAAT,CAAcuB;AAArB,SAAd;AACAY,QAAAA,OAAO,CAACC,GAAR,CAAYV,IAAI,CAAC/B,KAAL,CAAW4B,IAAvB;AACJ,OATJ,EAUIc,KAVJ,CAUU,UAAUN,QAAV,EAAoB;AACvB;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACH,OAbJ;AAcN,KA1Ha;;AAAA,UAuKjBQ,YAvKiB,GAuKH,UAAAlD,KAAK,EAAG;AACrBA,MAAAA,KAAK,CAACmD,cAAN;;AACC,UAAId,IAAI,wDAAR;;AACD,UAAIN,QAAQ,GAAG,IAAIC,QAAJ,CAAaoB,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAb,CAAf;AACAtB,MAAAA,QAAQ,CAACK,MAAT,CAAgB,IAAhB,EAAsB,MAAK9B,KAAL,CAAWgD,EAAjC;AACAvB,MAAAA,QAAQ,CAACK,MAAT,CAAgB,WAAhB,EAA6B,MAAK9B,KAAL,CAAWqC,SAAxC;AACAZ,MAAAA,QAAQ,CAACK,MAAT,CAAgB,MAAhB,EAAwB,MAAK9B,KAAL,CAAW4B,IAAnC;;AAGA,UAAG,MAAKqB,QAAL,EAAH,EAAmB;AAChBhE,QAAAA,KAAK,CAAC;AACD+C,UAAAA,MAAM,EAAE,MADP;AAEDC,UAAAA,GAAG,EAAE3C,OAAO,CAAC,aAAD,EAAe,KAAf,CAFX;AAGDe,UAAAA,IAAI,EAAEoB,QAHL;AAIDS,UAAAA,MAAM,EAAE;AAAEC,YAAAA,OAAO,EAAE;AAAC,8BAAgB;AAAjB;AAAX;AAJP,SAAD,CAAL,CAMMhC,IANN,CAMW,UAAUiC,QAAV,EAAoB;AACtB;AAEAL,UAAAA,IAAI,CAACd,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB,EAAqC;AAAEC,YAAAA,IAAI,EAAE;AAAR,WAArC;AACAoB,UAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACH,SAXN,EAYMM,KAZN,CAYY,UAAUN,QAAV,EAAoB;AACvB;AACAI,UAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACH,SAfN;AAiBA;;AAKHI,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKzC,KAAjB;AACA,KAxMgB;;AAEZ,UAAKA,KAAL,GAAa;AACZC,MAAAA,QAAQ,EAACiD,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CADG;AAEbhD,MAAAA,IAAI,EAAE,EAFO;AAGX2C,MAAAA,EAAE,EAAC,EAHQ;AAIbT,MAAAA,cAAc,EAAC,mEAJF;AAKXe,MAAAA,QAAQ,EAAC,4DALE;AAOX/C,MAAAA,QAAQ,EAAC,EAPE;AAQXgD,MAAAA,OAAO,EAAC,EARG;AASXxC,MAAAA,WAAW,EAAC,EATD;AAUXsB,MAAAA,SAAS,EAAC,EAVC;AAWXzC,MAAAA,QAAQ,EAAC,EAXE;AAYXe,MAAAA,UAAU,EAAC,EAZA;AAaXiB,MAAAA,IAAI,EAAC,EAbM;AAcXf,MAAAA,KAAK,EAAC,EAdK;AAeX2C,MAAAA,gBAAgB,EAAC,EAfN;AAgBXC,MAAAA,UAAU,EAAC;AAhBA,KAAb;AAFY;AAqBZ;;;;wCAIc;AAAA;;AACjBjB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKzC,KAAjB;AACG,UAAI0D,UAAU,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAjC;AACA,UAAI5B,GAAG,GAAG,IAAI6B,GAAJ,CAAQJ,UAAR,CAAV;AACA,UAAIK,OAAO,GAAGC,IAAI,CAAC/B,GAAG,CAACgC,YAAJ,CAAiBlE,GAAjB,CAAqB,MAArB,CAAD,CAAlB;AACAyC,MAAAA,OAAO,CAACC,GAAR,CAAYR,GAAZ;AAEFhD,MAAAA,KAAK,CAACc,GAAN,CAAUT,OAAO,CAAC,kCAAgC,KAAKU,KAAL,CAAWC,QAAX,CAAoBC,oBAArD,EAA0E,KAA1E,CAAjB,EACCC,IADD,CACM,UAAAC,GAAG,EAAI;AACL,YAAGA,GAAG,CAACC,IAAJ,CAASC,SAAT,IAAoB,KAAvB,EAA6B;AAC7B,cAAMiD,OAAO,GAAGnD,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcG,GAAd,CAAkB,UAAAC,GAAG;AAAA,mBAAIA,GAAJ;AAAA,WAArB,CAAhB;;AACA,UAAA,MAAI,CAACd,QAAL,CAAc;AAAE4D,YAAAA,OAAO,EAAPA;AAAF,WAAd;AAA6B;AAChC,OALL;AAMD;;;+BA0FW;AACN,UAAIW,SAAS,GAAC,IAAd;AACA,WAAKvE,QAAL,CAAc;AAAEwE,QAAAA,cAAc,EAAE,EAAlB;AAAsBV,QAAAA,UAAU,EAAC,EAAjC;AAAoCW,QAAAA,cAAc,EAAC,EAAnD;AAAsDC,QAAAA,gBAAgB,EAAC,EAAvE;AAA0EC,QAAAA,SAAS,EAAC,EAApF;AAAuFd,QAAAA,gBAAgB,EAAC;AAAxG,OAAd;;AAEA,UAAG,KAAKxD,KAAL,CAAWqC,SAAX,IAAsB,EAAzB,EAA4B;AACxB,aAAK1C,QAAL,CAAc;AAAEwE,UAAAA,cAAc,EAAE;AAAlB,SAAd;AACAD,QAAAA,SAAS,GAAE,KAAX;AACH;;AAED,UAAG,KAAKlE,KAAL,CAAWa,KAAX,IAAkB,EAArB,EAAwB;AACpB,aAAKlB,QAAL,CAAc;AAAE8D,UAAAA,UAAU,EAAE;AAAd,SAAd;AACAS,QAAAA,SAAS,GAAE,KAAX;AACH;;AACD,UAAG,KAAKlE,KAAL,CAAWJ,QAAX,IAAqB,EAAxB,EAA2B;AACvB,aAAKD,QAAL,CAAc;AAAEyE,UAAAA,cAAc,EAAE;AAAlB,SAAd;AACAF,QAAAA,SAAS,GAAE,KAAX;AACH;;AACD,UAAG,KAAKlE,KAAL,CAAWW,UAAX,IAAuB,EAA1B,EAA6B;AACzB,aAAKhB,QAAL,CAAc;AAAE0E,UAAAA,gBAAgB,EAAE;AAApB,SAAd;AACAH,QAAAA,SAAS,GAAE,KAAX;AACH;;AACD,UAAG,KAAKlE,KAAL,CAAW4B,IAAX,IAAiB,EAApB,EAAuB;AACnB,aAAKjC,QAAL,CAAc;AAAE2E,UAAAA,SAAS,EAAE;AAAb,SAAd;AACAJ,QAAAA,SAAS,GAAE,KAAX;AACH;;AACD,UAAG,KAAKlE,KAAL,CAAWe,WAAX,IAAwB,EAA3B,EAA8B;AAC1B,aAAKpB,QAAL,CAAc;AAAE6D,UAAAA,gBAAgB,EAAE;AAApB,SAAd;AACAU,QAAAA,SAAS,GAAE,KAAX;AACH;;AAMD,aAAOA,SAAP;AACH;;;6BA0CI;AACD,aACM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,EAEK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFL,EAGA;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAGD;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACa;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACgB;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,cADJ,CADhB,EAKgB;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI;AAAQ,QAAA,SAAS,EAAC,iBAAlB;AAAqC,QAAA,OAAO,EAAC,qBAA7C;AAAoE,QAAA,MAAM,EAAC,MAA3E;AAAkF,QAAA,QAAQ,EAAE,KAAKtB,YAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK;AAAO,QAAA,SAAS,EAAC,wBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADL,EAEK;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,GAAG,EAAE,KAAK5C,KAAL,CAAWsC,aAArB;AAAoC,QAAA,EAAE,EAAC,MAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,MAAM,EAAC,iBAA1B;AAA+C,QAAA,SAAS,EAAC,eAAzD;AAA2E,QAAA,QAAQ,EAAE,KAAKjB,oBAA1F;AAAiH,QAAA,EAAE,EAAC,QAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,MADJ,EAIQ;AAAM,QAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyB,KAAKrB,KAAL,CAAWmE,cAApC,CAJR,CAFL,CADH,EAaI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,SAAS,EAAC,wBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAoB,QAAA,IAAI,EAAC,OAAzB;AAAkC,QAAA,SAAS,EAAC,cAA5C;AAA2D,QAAA,WAAW,EAAC,aAAvE;AAAsF,QAAA,QAAQ,EAAE,KAAKvD,iBAArG;AAAyH,QAAA,KAAK,EAAE,KAAKZ,KAAL,CAAWa,KAA3I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADA,EAIA;AAAM,QAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyB,KAAKb,KAAL,CAAWyD,UAApC,CAJA,CAFJ,CAbJ,EAwBK;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG;AAAO,QAAA,SAAS,EAAC,wBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADH,EAEG;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAQ,QAAA,IAAI,EAAC,UAAb;AAAwB,QAAA,KAAK,EAAE,KAAKzD,KAAL,CAAWJ,QAA1C;AAAsD,QAAA,QAAQ,EAAE,KAAKH,mBAArE;AAA2F,QAAA,SAAS,EAAC,cAArG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG;AAAQ,QAAA,KAAK,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADH,EAEI,KAAKO,KAAL,CAAWuD,OAAX,CAAmB/C,GAAnB,CAAuB,UAAA+D,IAAI;AAAA,eAC3B;AAAQ,UAAA,KAAK,EAAEA,IAAI,CAACvB,EAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAyBuB,IAAI,CAACC,UAA9B,MAD2B;AAAA,OAA3B,CAFJ,CADA,CADA,EASA;AAAM,QAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyB,KAAKxE,KAAL,CAAWoE,cAApC,CATA,CAFH,CAxBL,EAuCQ;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAO,QAAA,SAAS,EAAC,wBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADA,EAEA;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAQ,QAAA,IAAI,EAAC,UAAb;AAAwB,QAAA,KAAK,EAAE,KAAKpE,KAAL,CAAWW,UAA1C;AAAwD,QAAA,QAAQ,EAAE,KAAKD,sBAAvE;AAAgG,QAAA,SAAS,EAAC,cAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG;AAAQ,QAAA,KAAK,EAAC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADH,EAEI,KAAKV,KAAL,CAAWO,QAAX,CAAoBC,GAApB,CAAwB,UAAA+D,IAAI;AAAA,eAC5B;AAAQ,UAAA,KAAK,EAAEA,IAAI,CAACvB,EAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAyBuB,IAAI,CAACE,YAA9B,MAD4B;AAAA,OAA5B,CAFJ,CADA,CADA,EASA;AAAM,QAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyB,KAAKzE,KAAL,CAAWqE,gBAApC,CATA,CAFA,CAvCR,EAyDI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,SAAS,EAAC,wBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,EAEI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG;AAAU,QAAA,SAAS,EAAC,cAApB;AAAoC,QAAA,IAAI,EAAC,aAAzC;AAAuD,QAAA,KAAK,EAAE,KAAKrE,KAAL,CAAWe,WAAzE;AAAsF,QAAA,QAAQ,EAAE,KAAKD,uBAArG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADH,CADJ,EAKI;AAAM,QAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyB,KAAKd,KAAL,CAAWwD,gBAApC,CALJ,CAFJ,CAzDJ,EAoEG;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK;AAAO,QAAA,SAAS,EAAC,wBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADL,EAEK;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAoB,QAAA,MAAM,EAAC,MAA3B;AAAmC,QAAA,SAAS,EAAC,cAA7C;AAA6D,QAAA,QAAQ,EAAE,KAAKb,gBAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAM,QAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyB,KAAK3C,KAAL,CAAWsE,SAApC,CAFJ,CAFL,CApEH,CADJ,EAuFI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,4BAAhC;AAA8D,QAAA,OAAO,EAAE,KAAKtD,UAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,CADJ,CADJ,CAvFJ,CAFJ,CALhB,CADb,CADF,CAHC,CAHA,EA2HD,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA3HC,CADN;AAgIN;;;;EA/UoBjC,S;;AAmVtB,eAAeS,OAAf","sourcesContent":["\nimport React, {Component} from 'react'\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom'\n\nimport Header  from './Common/Header'\nimport Footer  from './Common/Footer'\nimport Sidebar  from './Common/Sidebar'\nimport baseUrl from '../CommonFunctions';\n\n \nimport logo from '.././assets/logo.png';\n\n\n\n\nclass newQuiz extends Component {\n     constructor(){\n        super()\n     \tthis.state = {\n     \t\tuserData:JSON.parse(localStorage.getItem(\"userData\")),\n\t\t    data: [],\n        id:'',\n\t\t    thumbImageBase:'https://s3.us-east-2.amazonaws.com/holdingcallassets/thumb_image/',\n        quizBase:'https://s3.us-east-2.amazonaws.com/holdingcallassets/quiz/',\n        \n        segments:[],\n        classes:[],\n        description:'',\n        thumb_img:'',\n        class_id:'',\n        segment_id:'',\n        file:'',\n        title:'',\n        descriptionError:'',\n        titleError:'',\n\n\t\t  }\n     }\n   \n\n\ncomponentDidMount() {\n   console.log(this.state);\n      var url_string = window.location.href\n      var url = new URL(url_string);\n      var quiz_id = atob(url.searchParams.get(\"quiz\"));\n      console.log(url);\n\n    axios.get(baseUrl('classes?local_association_id='+this.state.userData.local_association_id,'api') )\n    .then(res => {\n            if(res.data.errorCode=='200'){\n            const classes = res.data.data.map(obj => obj);\n            this.setState({ classes }); }\n        });\n  }\n\n    handleChangeClassId = event =>{\n         this.setState({class_id: event.target.value});\n        axios.get(baseUrl('segments?local_association_id='+this.state.userData.local_association_id+'&class_id='+event.target.value,'api') )\n        .then(res => {\n        if(res.data.errorCode=='200'){\n            const segments = res.data.data.map(obj => obj);\n            this.setState({ segments }); }\n        });\n\n    }\n    handleChangeSegment_id = event =>{\n        this.setState({segment_id: event.target.value});\n\n        \n\n        \n    }\n    handleChangeTitle = event =>{\n        this.setState({title: event.target.value});\n    }\n\n    handleChangeDescription = event =>{\n        this.setState({description: event.target.value});\n    }\n\n   handleBack = event =>{\n                      this.props.history.push('/my-quizs', { some: 'state' })\n\n    }\n    \n    handleChangeThumbImg = event =>{\n        const files = Array.from(event.target.files)\n            const formData = new FormData()\n            files.forEach((file, i) => {\n              formData.append('thumb_img', file);\n            })\n            var self = this;\n           axios({\n              method: 'post',\n              url: baseUrl('upload-thumb-img','api'),\n              data: formData,\n              config: { headers: {'Content-Type': 'multipart/form-data' }}\n              })\n              .then(function (response) {\n                   self.setState({thumb_img: response.data.thumb_img});\n                   self.setState({thumb_img_url: this.state.thumbImageBase+response.data.thumb_img});\n                   \n \n\n                   console.log(self.state.thumb_img);\n              })\n              .catch(function (response) {\n                  //handle error\n                  console.log(response);\n              })\n    }\n    \n\n  \n\n    \n    handleChangeFile = event =>{\n        const files = Array.from(event.target.files)\n            const formData = new FormData()\n            files.forEach((file, i) => {\n              formData.append('file', file);\n            })\n            var self = this;\n           axios({\n              method: 'post',\n              url: baseUrl('upload-quiz-file','api'),\n              data: formData,\n              config: { headers: {'Content-Type': 'multipart/form-data' }}\n              })\n              .then(function (response) {\n                   self.setState({file: response.data.file});\n                   console.log(self.state.file);\n              })\n              .catch(function (response) {\n                  //handle error\n                  console.log(response);\n              })\n    }\n\n\n\n\n\n    validate(){\n        var returnVal=true;\n        this.setState({ thumb_imgError: '', titleError:'',class_id_error:'',segment_id_error:'',fileError:'',descriptionError:''});\n       \n        if(this.state.thumb_img==''){\n            this.setState({ thumb_imgError: 'Please select a thumb image' });\n            returnVal= false;\n        }  \n\n        if(this.state.title==''){\n            this.setState({ titleError: 'Please enter  title' });\n            returnVal= false;\n        }  \n        if(this.state.class_id==''){\n            this.setState({ class_id_error: 'Please select a class' });\n            returnVal= false;\n        }  \n        if(this.state.segment_id==''){\n            this.setState({ segment_id_error: 'Please select a class' });\n            returnVal= false;\n        }  \n        if(this.state.file==''){\n            this.setState({ fileError: 'Please select a file' });\n            returnVal= false;\n        }  \n        if(this.state.description==''){\n            this.setState({ descriptionError: 'Please add some description' });\n            returnVal= false;\n        }  \n\n\n\n\n\n        return returnVal;\n    }\n\n\n    \n handleSubmit= event =>{\n  event.preventDefault();\n   var self = this;\n  var formData = new FormData(document.querySelector('form'));\n  formData.append('id', this.state.id);\n  formData.append('thumb_img', this.state.thumb_img);\n  formData.append('file', this.state.file);\n\n  \n  if(this.validate()){\n     axios({\n          method: 'post',\n          url: baseUrl('update-quiz','api'),\n          data: formData,\n          config: { headers: {'Content-Type': 'multipart/form-data' }}\n          })\n          .then(function (response) {\n              //handle success\n\n              self.props.history.push('/my-quizs', { some: 'state' })\n              console.log(response);\n          })\n          .catch(function (response) {\n              //handle error\n              console.log(response);\n          }\n    )\n    } \n  \n\n\n  \n  console.log(this.state);\n }\n\n\n\n\n render(){\n        return (\n              <div>\n              <Header/>\n              <br/><br/>\n              <div className=\"page-container\">\n              <Sidebar/>\n\n\t\t           <div className=\"page-content-wrapper\">\n          \t\t\t\t\t<div className=\"page-content\">\n                            <div className=\"portlet box green\">\n                                            <div className=\"portlet-title\">\n                                                <div className=\"caption\">\n                                                    <i className=\"fa fa-gift\"></i>New Quiz </div>\n                                            </div>\n                                            <div className=\"portlet-body form\">\n                                                \n                                                <form   className=\"form-horizontal\"  enctype=\"multipart/form-data\"  method=\"post\" onSubmit={this.handleSubmit}>\n                                                    <div className=\"form-body\">\n                                                       <div className=\"form-group\">\n                                                            <label className=\"col-md-3 control-label\">Thumb image</label>\n                                                            <div className=\"col-md-4\">\n                                                                <div className=\"input-group\">\n                                                                    <img src={this.state.thumb_img_url} id=\"blah\" /> \n                                                                    <input type=\"file\" accept=\".png,.jpg,.jpeg\"    className=\"form-control \"   onChange={this.handleChangeThumbImg}  id=\"imgInp\"  /> </div>\n                                                                    <span className=\"error\">{this.state.thumb_imgError}</span> \n                                                            </div>\n                                                            \n                                                        </div>\n\n\n                                                        <div className=\"form-group\">\n                                                            <label className=\"col-md-3 control-label\">Title</label>\n                                                            <div className=\"col-md-4\">\n                                                            <div className=\"input-group\">\n                                                                <input type=\"text\"  name=\"title\"  className=\"form-control\" placeholder=\"Enter title\"  onChange={this.handleChangeTitle}  value={this.state.title} />\n                                                            </div>\n                                                            <span className=\"error\">{this.state.titleError}</span>\n                                                            </div>\n                                                        </div>\n\n                                                         \n                                                         <div className=\"form-group\">\n                                                            <label className=\"col-md-3 control-label\">Class</label>\n                                                            <div className=\"col-md-4\">\n                                                            <div className=\"input-group\">\n                                                            <select name=\"class_id\" value={this.state.class_id}   onChange={this.handleChangeClassId}  className=\"form-control\">\n                                                               <option value=\"\">Select Class</option>\n                                                               {this.state.classes.map(post =>\n                                                                <option value={post.id}>{post.class_name} </option>\n                                                                )}\n                                                               </select>                                                            \n                                                            </div>\n                                                            <span className=\"error\">{this.state.class_id_error}</span>\n                                                            </div>\n                                                        </div>\n\n                                                            <div className=\"form-group\">\n                                                            <label className=\"col-md-3 control-label\">Segment</label>\n                                                            <div className=\"col-md-4\">\n                                                            <div className=\"input-group\">\n                                                            <select name=\"class_id\" value={this.state.segment_id}   onChange={this.handleChangeSegment_id}  className=\"form-control\">\n                                                               <option value=\"\">Select Segment</option>\n                                                               {this.state.segments.map(post =>\n                                                                <option value={post.id}>{post.segment_name} </option>\n                                                                )}\n                                                               </select>                                                            \n                                                            </div>\n                                                            <span className=\"error\">{this.state.segment_id_error}</span>\n                                                            </div>\n                                                        </div>\n\n\n\n\n                                                        <div className=\"form-group\">\n                                                            <label className=\"col-md-3 control-label\">Description</label>\n                                                            <div className=\"col-md-4\">\n                                                                <div className=\"input-group\">\n                                                                   <textarea className=\"form-control\"  name=\"description\" value={this.state.description} onChange={this.handleChangeDescription}  />\n\n                                                                </div>\n                                                                <span className=\"error\">{this.state.descriptionError}</span>\n                                                            </div>\n                                                        </div>\n                                                      \n                                                       <div className=\"form-group\">\n                                                            <label className=\"col-md-3 control-label\">Quiz XML</label>\n                                                            <div className=\"col-md-4\">\n                                                                <input type=\"file\"  accept=\".xml\"  className=\"form-control\"  onChange={this.handleChangeFile}  />\n                                                                <span className=\"error\">{this.state.fileError}</span>\n                                                            </div>\n                                                           \n                                                        </div>\n\n\n                                                    </div>\n\n\n\n\n\n\n\n                                                    <div className=\"form-actions\">\n                                                        <div className=\"row\">\n                                                            <div className=\"col-md-offset-3 col-md-9\">\n                                                                <button type=\"submit\" className=\"btn green\">Submit</button>\n                                                                <button type=\"button\" className=\"btn grey-salsa btn-outline\"  onClick={this.handleBack}  >Back</button>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </form>\n                                               \n                                            </div>\n                                        </div>\n\n          \t\t\t\t\t</div>\n\t\t\t\t\t     </div>\n\n\n\n         \n            \n             </div>\n             <Footer/>\n             </div>\n        \t)\n\n }\n\n}\n\nexport default newQuiz"]},"metadata":{},"sourceType":"module"}